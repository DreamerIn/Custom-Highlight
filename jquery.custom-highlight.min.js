!function(t,e,n,i){"use strict";function s(e,n){this.element=e,this.settings=t.extend({},a,n),this._defaults=a,this._name=o,this.init()}var o="customHighlight",a={actions:[{test_action:"Test action"}],position:"left"};t.extend(s.prototype,{init:function(){var e,i;jQuery(n).mousemove(function(t){e=t.pageX,i=t.pageY-10});var s=this;t(this.element).mouseup(function(e){if(""!=s.getSelectedText()){var n=s.add_cs_class(s.getSelectedText()),i="#"+n,o="#"+Math.random().toString(16).slice(2,8);t("#"+n).css("color",o);var a,c=(s.settings.actions.length,s.settings.actions);for(var r in c[0])a=r;if("test_action"==a)var l="<button type='button' class='btn' onclick=test_action('"+i+"')>Test Action</button>";else{var u=[];for(var d in c){u.push(c[d]);var g="";for(var h in u){var v=u[h],f=Object.keys(v)[0],p=v[f];g=g+"<button type='button' class='btn' onclick="+f+"('"+i+"')>"+p+"</button> "}var l=g}}t("#"+n).tooltipster({content:l,multiple:!0,position:s.settings.position,delay:100,maxWidth:500,speed:300,interactive:!0,animation:"grow",trigger:"hover",contentAsHTML:!0})}})},getSelectedText:function(){var t=n.all?n.selection.createRange().text:n.getSelection();return t},add_cs_class:function(t){var e=t,i=e.toString(),s=n.createElement("SPAN");s.textContent=" + "+i+" + ",s.classList.add("cs-editing"),s.classList.add("tooltip");var o=e.getRangeAt(0);o.deleteContents(),o.insertNode(s);var a=Math.random().toString(36).slice(2);return s.id="cs-editing-"+a,s.id},test_action:function(){alert("Here's a Test Action!")}}),t.fn[o]=function(e){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new s(this,e))})}}(jQuery,window,document);